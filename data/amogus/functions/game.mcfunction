execute if entity @a[scores={death=1}] run execute as @a[scores={death=1}] run function amogus:death
execute if entity @a[tag=dead] run gamemode spectator @a[tag=dead]

# MAP ADJUSTMENTS #
stopsound @a * minecraft:entity.glow_item_frame.add_item
fill 41 101 27 41 102 27 minecraft:oak_trapdoor[facing=west,half=top,open=true,powered=true] replace minecraft:oak_trapdoor[facing=west,half=top,open=false,powered=true]
fill 28 101 -8 79 106 16 minecraft:acacia_trapdoor[open=true,facing=east,half=top] replace minecraft:acacia_trapdoor[facing=east,open=false,half=top]
fill 28 101 -8 79 106 16 minecraft:acacia_trapdoor[open=true,facing=west,half=top] replace minecraft:acacia_trapdoor[facing=west,open=false,half=top]
fill 45 101 27 45 103 33 minecraft:spruce_trapdoor[facing=east,half=top,open=true,powered=false,waterlogged=false] replace minecraft:spruce_trapdoor[facing=east,half=top,open=false,powered=false,waterlogged=false]
execute if block 19 102 55 minecraft:lever[face=wall,facing=south,powered=true] run setblock 19 102 55 minecraft:lever[face=wall,facing=south,powered=false]
execute if block 21 102 55 minecraft:lever[face=wall,facing=south,powered=true] run setblock 21 102 55 minecraft:lever[face=wall,facing=south,powered=false]
execute if block 20 104 55 minecraft:lever[face=wall,facing=south,powered=true] run setblock 20 104 55 minecraft:lever[face=wall,facing=south,powered=false]
execute if block 21 103 55 minecraft:lever[face=wall,facing=south,powered=false] run setblock 19 102 55 minecraft:lever[face=wall,facing=south,powered=true]
execute if block 20 101 55 minecraft:lever[face=wall,facing=south,powered=false] run setblock 19 102 55 minecraft:lever[face=wall,facing=south,powered=true]
execute if block 36 100 5 acacia_trapdoor[facing=west,half=top,open=true] run setblock 36 100 5 minecraft:acacia_trapdoor[facing=west,half=top,open=false]
fill 27 103 47 28 103 48 minecraft:spruce_trapdoor[facing=west,half=top,open=false,powered=false,waterlogged=false] replace minecraft:spruce_trapdoor[facing=west,half=top,open=true,powered=false,waterlogged=false]
fill 22 103 44 23 103 45 minecraft:spruce_trapdoor[facing=south,half=top,open=false,powered=false,waterlogged=false] replace minecraft:spruce_trapdoor[facing=south,half=top,open=true,powered=false,waterlogged=false]
fill 27 103 47 28 103 48 minecraft:spruce_trapdoor[facing=west,half=top,open=false,powered=false,waterlogged=false] replace minecraft:spruce_trapdoor[facing=west,half=top,open=true,powered=false,waterlogged=false]
# MAP ADJUSTMENTS #


# ATTRIBUTES #
attribute @a[gamemode=adventure,limit=1,sort=random] minecraft:generic.max_health base set 10
execute if entity @a[gamemode=adventure,tag=!impostor] run attribute @a[gamemode=adventure,tag=!impostor,limit=1,sort=random] minecraft:generic.attack_damage base set 0
attribute @a[gamemode=adventure,limit=1,sort=random] minecraft:generic.movement_speed base set 0.1
execute if entity @a[gamemode=adventure,tag=!impostor] run effect give @a[gamemode=adventure,tag=!impostor] jump_boost 1 250 true
execute if entity @a[tag=dead] run effect give @a[tag=dead] invisibility 3 1 true
execute if entity @a[tag=task_wires] as @a[tag=task_wires] run effect give @s blindness 2 255 true
execute if entity @a[tag=task_wires] as @a[tag=task_wires] run effect give @s slowness 2 255 true
execute if entity @a[tag=task_download] as @a[tag=task_download] run effect give @s blindness 2 255 true
execute if entity @a[tag=task_download] as @a[tag=task_download] run effect give @s slowness 2 255 true
execute if entity @a[tag=todo_s_shields,scores={shields_pattern=1..}] as @a[tag=todo_s_shields,scores={shields_pattern=1..}] run effect give @s slowness 3 255 true
execute if entity @a[tag=todo_s_shields,scores={shields_pattern=1..}] as @a[tag=todo_s_shields,scores={shields_pattern=1..}] run effect give @s blindness 3 255 true
execute if entity @a[tag=todo_l_engine,tag=task_engine] as @a[tag=todo_l_engine,tag=task_engine] run effect give @s blindness 3 255 true
execute if entity @a[tag=task_steering] as @a[tag=task_steering] run effect give @s slowness 3 255 true
execute if entity @a[tag=task_steering] as @a[tag=task_steering] run effect give @s blindness 3 255 true
# ATTRIBUTES #

# COLORS #
execute if entity @a[team=aqua] as @a[team=aqua] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_aqua,limit=1] armor.chest
execute if entity @a[team=aqua] as @a[team=aqua] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_aqua,limit=1] armor.legs
execute if entity @a[team=aqua] as @a[team=aqua] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_aqua,limit=1] armor.feet
execute if entity @a[team=black] as @a[team=black] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_black,limit=1] armor.chest
execute if entity @a[team=black] as @a[team=black] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_black,limit=1] armor.legs
execute if entity @a[team=black] as @a[team=black] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_black,limit=1] armor.feet
execute if entity @a[team=blue] as @a[team=blue] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_blue,limit=1] armor.chest
execute if entity @a[team=blue] as @a[team=blue] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_blue,limit=1] armor.legs
execute if entity @a[team=blue] as @a[team=blue] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_blue,limit=1] armor.feet
execute if entity @a[team=gray] as @a[team=gray] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_gray,limit=1] armor.chest
execute if entity @a[team=gray] as @a[team=gray] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_gray,limit=1] armor.legs
execute if entity @a[team=gray] as @a[team=gray] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_gray,limit=1] armor.feet
execute if entity @a[team=green] as @a[team=green] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_green,limit=1] armor.chest
execute if entity @a[team=green] as @a[team=green] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_green,limit=1] armor.legs
execute if entity @a[team=green] as @a[team=green] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_green,limit=1] armor.feet
execute if entity @a[team=lime] as @a[team=lime] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_lime,limit=1] armor.chest
execute if entity @a[team=lime] as @a[team=lime] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_lime,limit=1] armor.legs
execute if entity @a[team=lime] as @a[team=lime] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_lime,limit=1] armor.feet
execute if entity @a[team=orange] as @a[team=orange] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_orange,limit=1] armor.chest
execute if entity @a[team=orange] as @a[team=orange] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_orange,limit=1] armor.legs
execute if entity @a[team=orange] as @a[team=orange] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_orange,limit=1] armor.feet
execute if entity @a[team=pink] as @a[team=pink] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_pink,limit=1] armor.chest
execute if entity @a[team=pink] as @a[team=pink] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_pink,limit=1] armor.legs
execute if entity @a[team=pink] as @a[team=pink] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_pink,limit=1] armor.feet
execute if entity @a[team=purple] as @a[team=purple] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_purple,limit=1] armor.chest
execute if entity @a[team=purple] as @a[team=purple] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_purple,limit=1] armor.legs
execute if entity @a[team=purple] as @a[team=purple] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_purple,limit=1] armor.feet
execute if entity @a[team=redsus] as @a[team=redsus] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_redsus,limit=1] armor.chest
execute if entity @a[team=redsus] as @a[team=redsus] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_redsus,limit=1] armor.legs
execute if entity @a[team=redsus] as @a[team=redsus] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_redsus,limit=1] armor.feet
execute if entity @a[team=white] as @a[team=white] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_white,limit=1] armor.chest
execute if entity @a[team=white] as @a[team=white] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_white,limit=1] armor.legs
execute if entity @a[team=white] as @a[team=white] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_white,limit=1] armor.feet
execute if entity @a[team=yellow] as @a[team=yellow] unless data entity @s {Inventory:[{Slot:102b,id:"minecraft:leather_chestplate"}]} run item replace entity @s armor.chest from entity @e[tag=as_yellow,limit=1] armor.chest
execute if entity @a[team=yellow] as @a[team=yellow] unless data entity @s {Inventory:[{Slot:101b,id:"minecraft:leather_leggings"}]} run item replace entity @s armor.legs from entity @e[tag=as_yellow,limit=1] armor.legs
execute if entity @a[team=yellow] as @a[team=yellow] unless data entity @s {Inventory:[{Slot:100b,id:"minecraft:leather_boots"}]} run item replace entity @s armor.feet from entity @e[tag=as_yellow,limit=1] armor.feet
# COLORS #

# MEETING #
execute if entity @a[tag=inmeeting,tag=color_picked,tag=discussing] run scoreboard players add Discussion amogus_timer 1
execute if entity @a[tag=discussing] if score Discussion amogus_meeting matches 0 run tag @a[tag=inmeeting,tag=color_picked,tag=discussing] add voting
execute if entity @a[tag=discussing] if score Discussion amogus_meeting matches 0 run tag @a[tag=inmeeting,tag=color_picked,tag=discussing] remove discussing
execute if score Discussion amogus_timer matches 20 run scoreboard players remove Discussion amogus_meeting 1
execute if score Discussion amogus_timer matches 20 run scoreboard players set Discussion amogus_timer 0
execute if entity @a[tag=inmeeting,tag=color_picked,tag=voting] run scoreboard players add Voting amogus_timer 1
execute if score Voting amogus_timer matches 20 run scoreboard players remove Voting amogus_meeting 1
execute if score Voting amogus_timer matches 20 run scoreboard players set Voting amogus_timer 0
execute if entity @a[tag=voting] if score Voting amogus_meeting matches 0 run function amogus:meeting/end
execute if entity @a[tag=!inmeeting,tag=color_picked] run tag @a[tag=!inmeeting,tag=color_picked] add notinmeeting
execute if entity @a[tag=inmeeting,tag=color_picked] run tag @a[tag=inmeeting,tag=color_picked] remove notinmeeting


execute if entity @a[tag=inmeeting,tag=discussing,scores={amogus_vote=0}] as @a[tag=color_picked,tag=inmeeting,tag=discussing,scores={amogus_vote=0}] run item replace entity @s hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},"\\n","\\n",{"selector":"@a[tag=meeting_0,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_0,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"poor lil thing","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_1,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_1,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"poor little shit","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_2,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_2,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"haha","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_3,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_3,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"COPIUM","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_4,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_4,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"dead","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_5,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_5,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"dead","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_6,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_6,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"not alive","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_7,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_7,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"not alive","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_8,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_8,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"passed out","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_9,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_9,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"passed out","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_10,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_10,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"out there in the sky","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_11,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"Wait voting time to kick your neighbor out !"}},{"selector":"@a[tag=meeting_11,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"out there in the sky","italic":true,"color":"gray"}]}}]'],title:"MEETING",author:""}
execute if entity @a[tag=inmeeting,tag=voting,scores={amogus_Vvalid=1}] as @a[tag=color_picked,tag=inmeeting,tag=voting,scores={amogus_Vvalid=1}] run item replace entity @s hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},"\\n","\\n",{"selector":"@a[tag=meeting_0,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_0,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"poor lil thing","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_1,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_1,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"poor little shit","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_2,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_2,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"haha","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_3,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_3,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"COPIUM","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_4,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_4,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"dead","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_5,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_5,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"dead","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_6,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_6,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"not alive","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_7,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_7,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"not alive","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_8,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_8,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"passed out","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_9,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_9,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"passed out","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_10,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_10,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"out there in the sky","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_11,tag=color_picked,tag=!dead]","hoverEvent":{"action":"show_text","contents":"You already submitted your vote !"}},{"selector":"@a[tag=meeting_11,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"out there in the sky","italic":true,"color":"gray"}]}}]'],title:"MEETING",author:""}
execute if entity @a[tag=inmeeting,tag=voting,scores={amogus_vote=0}] as @a[tag=color_picked,tag=inmeeting,tag=voting,scores={amogus_vote=0}] run item replace entity @s hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},"\\n","\\n",{"selector":"@a[tag=meeting_0,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 1"}},{"selector":"@a[tag=meeting_0,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"poor lil thing","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_1,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 2"}},{"selector":"@a[tag=meeting_1,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"poor little shit","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_2,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 3"}},{"selector":"@a[tag=meeting_2,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"haha","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_3,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 4"}},{"selector":"@a[tag=meeting_3,tag=color_picked,tag=dead]  \\u0020","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"COPIUM","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_4,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 5"}},{"selector":"@a[tag=meeting_4,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"dead","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_5,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 6"}},{"selector":"@a[tag=meeting_5,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"dead","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_6,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 7"}},{"selector":"@a[tag=meeting_6,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"not alive","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_7,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 8"}},{"selector":"@a[tag=meeting_7,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"not alive","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_8,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 9"}},{"selector":"@a[tag=meeting_8,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"passed out","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_9,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 10"}},{"selector":"@a[tag=meeting_9,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"passed out","italic":true,"color":"gray"}]}},"\\n",{"selector":"@a[tag=meeting_10,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 11"}},{"selector":"@a[tag=meeting_10,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"out there in the sky","italic":true,"color":"gray"}]}},{"text":" \\u0020"},{"selector":"@a[tag=meeting_11,tag=color_picked,tag=!dead]","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 12"}},{"selector":"@a[tag=meeting_11,tag=color_picked,tag=dead]","italic":true,"strikethrough":true,"hoverEvent":{"action":"show_text","contents":[{"text":"out there in the sky","italic":true,"color":"gray"}]}}]'],title:"MEETING",author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=1,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=1},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_0]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=2,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=2},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_1]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=3,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=3},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_2]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=4,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=4},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_3]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=5,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=5},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_4]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=6,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=6},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_5]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=7,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=7},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_6]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=8,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=8},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_7]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=9,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=9},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_8]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=10,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=10},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_9]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=11,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=11},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_10]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,scores={amogus_vote=12,amogus_Vvalid=0},gamemode=adventure] run item replace entity @a[tag=color_picked,tag=inmeeting,scores={amogus_vote=12},gamemode=adventure] hotbar.4 with written_book{pages:['["",{"text":"  Current Meeting","bold":true,"color":"gold"},{"text":"\\n\\n","color":"reset"},{"text":"Vote this sus person?","color":"dark_aqua"},{"text":"\\n\\n","color":"reset"},{"selector":"@a[tag=meeting_11]"},{"text":"\\n\\n"},{"text":"  ","bold":true,"clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"\\u2714 Yes","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger amogus_Vvalid set 1"}},{"text":"     ","color":"reset","bold":true},{"text":"No \\u2716 ","bold":true,"color":"dark_red","clickEvent":{"action":"run_command","value":"/trigger amogus_vote set 0"}}]'],title:MEETING,author:""}
execute if entity @a[tag=inmeeting,tag=voting] run scoreboard players enable @a[tag=inmeeting,tag=voting,gamemode=adventure] amogus_vote
execute if entity @a[tag=inmeeting,tag=voting] run scoreboard players enable @a[tag=inmeeting,tag=voting,gamemode=adventure] amogus_Vvalid
# MEETING #

# IMPOSTOR #
execute if entity @a[tag=impostor] as @a[tag=impostor] run function amogus:impostor

execute if entity @a[scores={amogus_vent_use=1}] as @a[scores={amogus_vent_use=1}] at @s if block ~ ~ ~ iron_trapdoor[half=bottom] run function amogus:impostor/vent/in
execute if entity @a[scores={amogus_vent_use=1}] as @a[scores={amogus_vent_use=1}] at @s unless block ~ ~ ~ iron_trapdoor[half=bottom] run scoreboard players set @s amogus_vent_use 0

# IMPOSTOR #

# TASKS #
# download_task
execute if entity @a[tag=task_download,tag=color_picked] as @a[tag=task_download,tag=color_picked] run function amogus:tasks/admin/download/tick
execute if entity @a[scores={download=100},tag=color_picked] as @a[scores={download=100},tag=color_picked] run scoreboard players set @s download 0
# wires_task
execute if entity @a[tag=todo_c_wires] as @a[tag=todo_c_wires] run function amogus:tasks/admin/wires/tick/loc
# garbage_task
execute if entity @a[tag=todo_l_garbage] as @a[tag=todo_l_garbage] at @e[tag=task_storage_garbage,type=villager] run function amogus:tasks/storage/garbage/tick
# shields_task
execute if entity @a[tag=todo_s_shields,scores={shields_pattern=1..}] as @a[tag=todo_s_shields,scores={shields_pattern=1..}] run function amogus:tasks/shield/shields/tick
execute if entity @a[scores={shields_pattern=-1}] as @a[scores={shields_pattern=-1}] run function amogus:tasks/shield/shields/end
# align_engine_task
execute if entity @a[tag=task_engine] as @a[tag=task_engine] run function amogus:tasks/upper_engine/engine/tick
# course_task
execute if entity @a[tag=task_course] as @a[tag=task_course] run function amogus:tasks/navigation/course/tick
# manifolds_task
execute if entity @a[tag=task_manifolds] as @a[tag=task_manifolds] run function amogus:tasks/reactor/manifolds/tick
# steering_task
execute if entity @a[tag=task_steering] as @a[tag=task_steering] at @s anchored eyes rotated as @s run function amogus:tasks/navigation/steering/tick/particles/cursor


execute as @a[tag=color_picked] run function amogus:tasks/weapon/asteroids/tick/main


# TASKS #

# MONITORING #
# admin
execute if entity @a[tag=check_admin] run function amogus:monitoring/admin/tick
# MONITORING #